<html>
    <head>
        <title>Bitcoin Price Index</title>
        <script src="script.js" ></script>
        <style>
            td { text-align: center}
        </style>
    </head>
    <body onload="checkBitcoin()">
        <div>
            <table width="100%" border="0" cellspacing="2" align="center">
                <tr>
                    <th>BPI in €</th>
                    <th>BPI in $</th>
                    <th>BPI in £</th>
                </tr>
                <tr>
                    <td id="euroBPI"></td>
                    <td id="dollarBPI"></td>
                    <td id="poundBPI"></td>
                </tr>
            </table>
            <div>Last updated on: <span id="lastUpdated"></span></div>
        </div>
    </body>
    <script type="text/javascript">
        //setting the call interval for 10s
        setInterval(checkBitcoin, 10000);

        //function that checks bitcoin price index from api
        async function checkBitcoin() {
            fetch(`https://api.coindesk.com/v1/bpi/currentprice.json`)
            .then(response => response.json()).then(result => {
                    console.log(result);
                    //setting the td to display bpi from result
                    document.getElementById("euroBPI").innerHTML = result.bpi.EUR.rate;
                    document.getElementById("dollarBPI").innerHTML = result.bpi.USD.rate;
                    document.getElementById("poundBPI").innerHTML = result.bpi.GBP.rate;
                    
                    document.getElementById("lastUpdated").innerHTML = result.time.updated;
                });
        }
    </script>
</html>